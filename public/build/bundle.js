var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function o(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n,e){t.insertBefore(n,e||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function s(){return t=" ",document.createTextNode(t);var t}function c(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function f(t,n,e,r){null==e?t.style.removeProperty(n):t.style.setProperty(n,e,r?"important":"")}let h;function p(t){h=t}function d(t){(function(){if(!h)throw new Error("Function called outside component initialization");return h})().$$.on_mount.push(t)}const g=[],v=[];let m=[];const y=[],_=Promise.resolve();let w=!1;function x(t){m.push(t)}const b=new Set;let M=0;function E(){if(0!==M)return;const t=h;do{try{for(;M<g.length;){const t=g[M];M++,p(t),S(t.$$)}}catch(t){throw g.length=0,M=0,t}for(p(null),g.length=0,M=0;v.length;)v.pop()();for(let t=0;t<m.length;t+=1){const n=m[t];b.has(n)||(b.add(n),n())}m.length=0}while(g.length);for(;y.length;)y.pop()();w=!1,b.clear(),p(t)}function S(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(x)}}const k=new Set;function N(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];m.forEach((r=>-1===t.indexOf(r)?n.push(r):e.push(r))),e.forEach((t=>t())),m=n}(e.after_update),r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function $(t,n){-1===t.$$.dirty[0]&&(g.push(t),w||(w=!0,_.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function A(o,a,l,s,c,f,d,g=[-1]){const v=h;p(o);const m=o.$$={fragment:null,ctx:[],props:f,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(v?v.$$.context:[])),callbacks:e(),dirty:g,skip_bound:!1,root:a.target||v.$$.root};d&&d(m.root);let y=!1;if(m.ctx=l?l(o,a.props||{},((t,n,...e)=>{const r=e.length?e[0]:n;return m.ctx&&c(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),y&&$(o,t)),n})):[],m.update(),y=!0,r(m.before_update),m.fragment=!!s&&s(m.ctx),a.target){if(a.hydrate){const t=function(t){return Array.from(t.childNodes)}(a.target);m.fragment&&m.fragment.l(t),t.forEach(u)}else m.fragment&&m.fragment.c();a.intro&&((_=o.$$.fragment)&&_.i&&(k.delete(_),_.i(w))),function(t,e,o,a){const{fragment:u,after_update:l}=t.$$;u&&u.m(e,o),a||x((()=>{const e=t.$$.on_mount.map(n).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),l.forEach(x)}(o,a.target,a.anchor,a.customElement),E()}var _,w;p(v)}class C{$destroy(){N(this,1),this.$destroy=t}$on(n,e){if(!i(e))return t;const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function T(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function j(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function P(t){let n,e,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length?(n=T,e=(n,e)=>T(t(n),e),r=(n,e)=>t(n)-e):(n=t===T||t===j?t:z,e=t,r=t),{left:i,center:function(t,n,e=0,o=t.length){const a=i(t,n,e,o-1);return a>e&&r(t[a-1],n)>-r(t[a],n)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<=0?i=n+1:o=n}while(i<o)}return i}}}function z(){return 0}const O=P(T).right;P((function(t){return null===t?NaN:+t})).center;var R=O;class q{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}const X=Math.sqrt(50),H=Math.sqrt(10),I=Math.sqrt(2);function L(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=X?10:o>=H?5:o>=I?2:1;let u,l,s;return i<0?(s=Math.pow(10,-i)/a,u=Math.round(t*s),l=Math.round(n*s),u/s<t&&++u,l/s>n&&--l,s=-s):(s=Math.pow(10,i)*a,u=Math.round(t/s),l=Math.round(n/s),u*s<t&&++u,l*s>n&&--l),l<u&&.5<=e&&e<2?L(t,n,2*e):[u,l,s]}function Y(t,n,e){return L(t=+t,n=+n,e=+e)[2]}function D(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function V(t){return t}var F=1e-6;function U(t){return"translate("+t+",0)"}function B(t){return"translate(0,"+t+")"}function G(t){return n=>+t(n)}function W(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Z(){return!this.__axis}function J(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,s=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",f=1===t||3===t?U:B;function h(h){var p=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):V:i,g=Math.max(o,0)+u,v=n.range(),m=+v[0]+l,y=+v[v.length-1]+l,_=(n.bandwidth?W:G)(n.copy(),l),w=h.selection?h.selection():h,x=w.selectAll(".domain").data([null]),b=w.selectAll(".tick").data(p,n).order(),M=b.exit(),E=b.enter().append("g").attr("class","tick"),S=b.select("line"),k=b.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),b=b.merge(E),S=S.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",s*o)),k=k.merge(E.append("text").attr("fill","currentColor").attr(c,s*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==w&&(x=x.transition(h),b=b.transition(h),S=S.transition(h),k=k.transition(h),M=M.transition(h).attr("opacity",F).attr("transform",(function(t){return isFinite(t=_(t))?f(t+l):this.getAttribute("transform")})),E.attr("opacity",F).attr("transform",(function(t){var n=this.parentNode.__axis;return f((n&&isFinite(n=n(t))?n:_(t))+l)}))),M.remove(),x.attr("d",4===t||2===t?a?"M"+s*a+","+m+"H"+l+"V"+y+"H"+s*a:"M"+l+","+m+"V"+y:a?"M"+m+","+s*a+"V"+l+"H"+y+"V"+s*a:"M"+m+","+l+"H"+y),b.attr("opacity",1).attr("transform",(function(t){return f(_(t)+l)})),S.attr(c+"2",s*o),k.attr(c,s*g).text(d),w.filter(Z).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),w.each((function(){this.__axis=_}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(u=+t,h):u},h.offset=function(t){return arguments.length?(l=+t,h):l},h}function K(t){return J(3,t)}var Q={value:()=>{}};function tt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new nt(r)}function nt(t){this._=t}function et(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function rt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Q,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}nt.prototype=tt.prototype={constructor:nt,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=rt(i[e],t.name,n);else if(null==n)for(e in i)i[e]=rt(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=et(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new nt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var it="http://www.w3.org/1999/xhtml",ot={svg:"http://www.w3.org/2000/svg",xhtml:it,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function at(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),ot.hasOwnProperty(n)?{space:ot[n],local:t}:t}function ut(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===it&&n.documentElement.namespaceURI===it?n.createElement(t):n.createElementNS(e,t)}}function lt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function st(t){var n=at(t);return(n.local?lt:ut)(n)}function ct(){}function ft(t){return null==t?ct:function(){return this.querySelector(t)}}function ht(){return[]}function pt(t){return null==t?ht:function(){return this.querySelectorAll(t)}}function dt(t){return function(){return null==(n=t.apply(this,arguments))?[]:Array.isArray(n)?n:Array.from(n);var n}}function gt(t){return function(){return this.matches(t)}}function vt(t){return function(n){return n.matches(t)}}var mt=Array.prototype.find;function yt(){return this.firstElementChild}var _t=Array.prototype.filter;function wt(){return Array.from(this.children)}function xt(t){return new Array(t.length)}function bt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Mt(t,n,e,r,i,o){for(var a,u=0,l=n.length,s=o.length;u<s;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new bt(t,o[u]);for(;u<l;++u)(a=n[u])&&(i[u]=a)}function Et(t,n,e,r,i,o,a){var u,l,s,c=new Map,f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(l=n[u])&&(p[u]=s=a.call(l,l.__data__,u,n)+"",c.has(s)?i[u]=l:c.set(s,l));for(u=0;u<h;++u)s=a.call(t,o[u],u,o)+"",(l=c.get(s))?(r[u]=l,l.__data__=o[u],c.delete(s)):e[u]=new bt(t,o[u]);for(u=0;u<f;++u)(l=n[u])&&c.get(p[u])===l&&(i[u]=l)}function St(t){return t.__data__}function kt(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Nt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function $t(t){return function(){this.removeAttribute(t)}}function At(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ct(t,n){return function(){this.setAttribute(t,n)}}function Tt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function jt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Pt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function zt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ot(t){return function(){this.style.removeProperty(t)}}function Rt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function qt(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Xt(t,n){return t.style.getPropertyValue(n)||zt(t).getComputedStyle(t,null).getPropertyValue(n)}function Ht(t){return function(){delete this[t]}}function It(t,n){return function(){this[t]=n}}function Lt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Yt(t){return t.trim().split(/^|\s+/)}function Dt(t){return t.classList||new Vt(t)}function Vt(t){this._node=t,this._names=Yt(t.getAttribute("class")||"")}function Ft(t,n){for(var e=Dt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Ut(t,n){for(var e=Dt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Bt(t){return function(){Ft(this,t)}}function Gt(t){return function(){Ut(this,t)}}function Wt(t,n){return function(){(n.apply(this,arguments)?Ft:Ut)(this,t)}}function Zt(){this.textContent=""}function Jt(t){return function(){this.textContent=t}}function Kt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Qt(){this.innerHTML=""}function tn(t){return function(){this.innerHTML=t}}function nn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function en(){this.nextSibling&&this.parentNode.appendChild(this)}function rn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function on(){return null}function an(){var t=this.parentNode;t&&t.removeChild(this)}function un(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ln(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function sn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function cn(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function fn(t,n,e){var r=zt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function hn(t,n){return function(){return fn(this,t,n)}}function pn(t,n){return function(){return fn(this,t,n.apply(this,arguments))}}bt.prototype={constructor:bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Vt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var dn=[null];function gn(t,n){this._groups=t,this._parents=n}function vn(){return new gn([[document.documentElement]],dn)}function mn(t){return"string"==typeof t?new gn([[document.querySelector(t)]],[document.documentElement]):new gn([[t]],dn)}function yn(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}gn.prototype=vn.prototype={constructor:gn,select:function(t){"function"!=typeof t&&(t=ft(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],l=u.length,s=r[i]=new Array(l),c=0;c<l;++c)(o=u[c])&&(a=t.call(o,o.__data__,c,u))&&("__data__"in o&&(a.__data__=o.__data__),s[c]=a);return new gn(r,this._parents)},selectAll:function(t){t="function"==typeof t?dt(t):pt(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],l=u.length,s=0;s<l;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new gn(r,i)},selectChild:function(t){return this.select(null==t?yt:function(t){return function(){return mt.call(this.children,t)}}("function"==typeof t?t:vt(t)))},selectChildren:function(t){return this.selectAll(null==t?wt:function(t){return function(){return _t.call(this.children,t)}}("function"==typeof t?t:vt(t)))},filter:function(t){"function"!=typeof t&&(t=gt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,l=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&l.push(o);return new gn(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,St);var e,r=n?Et:Mt,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),l=new Array(a),s=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],p=h.length,d=kt(t.call(f,f&&f.__data__,c,i)),g=d.length,v=l[c]=new Array(g),m=u[c]=new Array(g);r(f,h,v,m,s[c]=new Array(p),d,n);for(var y,_,w=0,x=0;w<g;++w)if(y=v[w]){for(w>=x&&(x=w+1);!(_=m[x])&&++x<g;);y._next=_||null}}return(u=new gn(u,i))._enter=l,u._exit=s,u},enter:function(){return new gn(this._enter||this._groups.map(xt),this._parents)},exit:function(){return new gn(this._exit||this._groups.map(xt),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),l=0;l<a;++l)for(var s,c=e[l],f=r[l],h=c.length,p=u[l]=new Array(h),d=0;d<h;++d)(s=c[d]||f[d])&&(p[d]=s);for(;l<i;++l)u[l]=e[l];return new gn(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Nt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],l=u.length,s=i[o]=new Array(l),c=0;c<l;++c)(a=u[c])&&(s[c]=a);s.sort(n)}return new gn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=at(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?At:$t:"function"==typeof n?e.local?Pt:jt:e.local?Tt:Ct)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Ot:"function"==typeof n?qt:Rt)(t,n,null==e?"":e)):Xt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Ht:"function"==typeof n?Lt:It)(t,n)):this.node()[t]},classed:function(t,n){var e=Yt(t+"");if(arguments.length<2){for(var r=Dt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Wt:n?Bt:Gt)(e,n))},text:function(t){return arguments.length?this.each(null==t?Zt:("function"==typeof t?Kt:Jt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Qt:("function"==typeof t?nn:tn)(t)):this.node().innerHTML},raise:function(){return this.each(en)},lower:function(){return this.each(rn)},append:function(t){var n="function"==typeof t?t:st(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:st(t),r=null==n?on:"function"==typeof n?n:ft(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(an)},clone:function(t){return this.select(t?ln:un)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?cn:sn,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var l,s=0,c=u.length;s<c;++s)for(r=0,l=u[s];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"==typeof n?pn:hn)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const _n={passive:!1},wn={capture:!0,passive:!1};function xn(t){t.stopImmediatePropagation()}function bn(t){t.preventDefault(),t.stopImmediatePropagation()}var Mn=t=>()=>t;function En(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:a,y:u,dx:l,dy:s,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:c}})}function Sn(t){return!t.ctrlKey&&!t.button}function kn(){return this.parentNode}function Nn(t,n){return null==n?{x:t.x,y:t.y}:n}function $n(){return navigator.maxTouchPoints||"ontouchstart"in this}function An(){var t,n,e,r,i=Sn,o=kn,a=Nn,u=$n,l={},s=tt("start","drag","end"),c=0,f=0;function h(t){t.on("mousedown.drag",p).filter(u).on("touchstart.drag",v).on("touchmove.drag",m,_n).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(a,u){if(!r&&i.call(this,a,u)){var l=_(this,o.call(this,a,u),a,u,"mouse");l&&(mn(a.view).on("mousemove.drag",d,wn).on("mouseup.drag",g,wn),function(t){var n=t.document.documentElement,e=mn(t).on("dragstart.drag",bn,wn);"onselectstart"in n?e.on("selectstart.drag",bn,wn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}(a.view),xn(a),e=!1,t=a.clientX,n=a.clientY,l("start",a))}}function d(r){if(bn(r),!e){var i=r.clientX-t,o=r.clientY-n;e=i*i+o*o>f}l.mouse("drag",r)}function g(t){mn(t.view).on("mousemove.drag mouseup.drag",null),function(t,n){var e=t.document.documentElement,r=mn(t).on("dragstart.drag",null);n&&(r.on("click.drag",bn,wn),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}(t.view,e),bn(t),l.mouse("end",t)}function v(t,n){if(i.call(this,t,n)){var e,r,a=t.changedTouches,u=o.call(this,t,n),l=a.length;for(e=0;e<l;++e)(r=_(this,u,t,n,a[e].identifier,a[e]))&&(xn(t),r("start",t,a[e]))}}function m(t){var n,e,r=t.changedTouches,i=r.length;for(n=0;n<i;++n)(e=l[r[n].identifier])&&(bn(t),e("drag",t,r[n]))}function y(t){var n,e,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),n=0;n<o;++n)(e=l[i[n].identifier])&&(xn(t),e("end",t,i[n]))}function _(t,n,e,r,i,o){var u,f,p,d=s.copy(),g=yn(o||e,n);if(null!=(p=a.call(t,new En("beforestart",{sourceEvent:e,target:h,identifier:i,active:c,x:g[0],y:g[1],dx:0,dy:0,dispatch:d}),r)))return u=p.x-g[0]||0,f=p.y-g[1]||0,function e(o,a,s){var v,m=g;switch(o){case"start":l[i]=e,v=c++;break;case"end":delete l[i],--c;case"drag":g=yn(s||a,n),v=c}d.call(o,t,new En(o,{sourceEvent:a,subject:p,target:h,identifier:i,active:v,x:g[0]+u,y:g[1]+f,dx:g[0]-m[0],dy:g[1]-m[1],dispatch:d}),r)}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:Mn(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:Mn(t),h):o},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:Mn(t),h):a},h.touchable=function(t){return arguments.length?(u="function"==typeof t?t:Mn(!!t),h):u},h.on=function(){var t=s.on.apply(s,arguments);return t===s?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}function Cn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Tn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function jn(){}En.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Pn=.7,zn=1/Pn,On="\\s*([+-]?\\d+)\\s*",Rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xn=/^#([0-9a-f]{3,8})$/,Hn=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),In=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),Ln=new RegExp(`^rgba\\(${On},${On},${On},${Rn}\\)$`),Yn=new RegExp(`^rgba\\(${qn},${qn},${qn},${Rn}\\)$`),Dn=new RegExp(`^hsl\\(${Rn},${qn},${qn}\\)$`),Vn=new RegExp(`^hsla\\(${Rn},${qn},${qn},${Rn}\\)$`),Fn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Un(){return this.rgb().formatHex()}function Bn(){return this.rgb().formatRgb()}function Gn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Xn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Wn(n):3===e?new Kn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Zn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Zn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Hn.exec(t))?new Kn(n[1],n[2],n[3],1):(n=In.exec(t))?new Kn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Ln.exec(t))?Zn(n[1],n[2],n[3],n[4]):(n=Yn.exec(t))?Zn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Dn.exec(t))?ie(n[1],n[2]/100,n[3]/100,1):(n=Vn.exec(t))?ie(n[1],n[2]/100,n[3]/100,n[4]):Fn.hasOwnProperty(t)?Wn(Fn[t]):"transparent"===t?new Kn(NaN,NaN,NaN,0):null}function Wn(t){return new Kn(t>>16&255,t>>8&255,255&t,1)}function Zn(t,n,e,r){return r<=0&&(t=n=e=NaN),new Kn(t,n,e,r)}function Jn(t,n,e,r){return 1===arguments.length?((i=t)instanceof jn||(i=Gn(i)),i?new Kn((i=i.rgb()).r,i.g,i.b,i.opacity):new Kn):new Kn(t,n,e,null==r?1:r);var i}function Kn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Qn(){return`#${re(this.r)}${re(this.g)}${re(this.b)}`}function te(){const t=ne(this.opacity);return`${1===t?"rgb(":"rgba("}${ee(this.r)}, ${ee(this.g)}, ${ee(this.b)}${1===t?")":`, ${t})`}`}function ne(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ee(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function re(t){return((t=ee(t))<16?"0":"")+t.toString(16)}function ie(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ae(t,n,e,r)}function oe(t){if(t instanceof ae)return new ae(t.h,t.s,t.l,t.opacity);if(t instanceof jn||(t=Gn(t)),!t)return new ae;if(t instanceof ae)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,l=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new ae(a,u,l,t.opacity)}function ae(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function ue(t){return(t=(t||0)%360)<0?t+360:t}function le(t){return Math.max(0,Math.min(1,t||0))}function se(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Cn(jn,Gn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Un,formatHex:Un,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return oe(this).formatHsl()},formatRgb:Bn,toString:Bn}),Cn(Kn,Jn,Tn(jn,{brighter(t){return t=null==t?zn:Math.pow(zn,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Pn:Math.pow(Pn,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kn(ee(this.r),ee(this.g),ee(this.b),ne(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qn,formatHex:Qn,formatHex8:function(){return`#${re(this.r)}${re(this.g)}${re(this.b)}${re(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:te,toString:te})),Cn(ae,(function(t,n,e,r){return 1===arguments.length?oe(t):new ae(t,n,e,null==r?1:r)}),Tn(jn,{brighter(t){return t=null==t?zn:Math.pow(zn,t),new ae(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Pn:Math.pow(Pn,t),new ae(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Kn(se(t>=240?t-240:t+120,i,r),se(t,i,r),se(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ae(ue(this.h),le(this.s),le(this.l),ne(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ne(this.opacity);return`${1===t?"hsl(":"hsla("}${ue(this.h)}, ${100*le(this.s)}%, ${100*le(this.l)}%${1===t?")":`, ${t})`}`}}));var ce=t=>()=>t;function fe(t){return 1==(t=+t)?he:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ce(isNaN(n)?e:n)}}function he(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):ce(isNaN(t)?n:t)}var pe=function t(n){var e=fe(n);function r(t,n){var r=e((t=Jn(t)).r,(n=Jn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=he(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function de(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function ge(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=be(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function ve(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function me(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function ye(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=be(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var _e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,we=new RegExp(_e.source,"g");function xe(t,n){var e,r,i,o=_e.lastIndex=we.lastIndex=0,a=-1,u=[],l=[];for(t+="",n+="";(e=_e.exec(t))&&(r=we.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,l.push({i:a,x:me(e,r)})),o=we.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)u[(e=l[r]).i]=e.x(t);return u.join("")})}function be(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?ce(n):("number"===i?me:"string"===i?(e=Gn(n))?(n=e,pe):xe:n instanceof Gn?pe:n instanceof Date?ve:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?ge:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?ye:me:de))(t,n)}function Me(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Ee,Se=180/Math.PI,ke={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ne(t,n,e,r,i,o){var a,u,l;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,l/=u),t*r<n*e&&(t=-t,n=-n,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Se,skewX:Math.atan(l)*Se,scaleX:a,scaleY:u}}function $e(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var l=a.push("translate(",null,n,null,e);u.push({i:l-4,x:me(t,i)},{i:l-2,x:me(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,l),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:me(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,l),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:me(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,l),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:me(t,e)},{i:u-2,x:me(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,l),o=a=null,function(t){for(var n,e=-1,r=l.length;++e<r;)u[(n=l[e]).i]=n.x(t);return u.join("")}}}var Ae,Ce,Te=$e((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?ke:Ne(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),je=$e((function(t){return null==t?ke:(Ee||(Ee=document.createElementNS("http://www.w3.org/2000/svg","g")),Ee.setAttribute("transform",t),(t=Ee.transform.baseVal.consolidate())?Ne((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ke)}),", ",")",")"),Pe=0,ze=0,Oe=0,Re=0,qe=0,Xe=0,He="object"==typeof performance&&performance.now?performance:Date,Ie="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Le(){return qe||(Ie(Ye),qe=He.now()+Xe)}function Ye(){qe=0}function De(){this._call=this._time=this._next=null}function Ve(t,n,e){var r=new De;return r.restart(t,n,e),r}function Fe(){qe=(Re=He.now())+Xe,Pe=ze=0;try{!function(){Le(),++Pe;for(var t,n=Ae;n;)(t=qe-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Pe}()}finally{Pe=0,function(){var t,n,e=Ae,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ae=n);Ce=t,Be(r)}(),qe=0}}function Ue(){var t=He.now(),n=t-Re;n>1e3&&(Xe-=n,Re=t)}function Be(t){Pe||(ze&&(ze=clearTimeout(ze)),t-qe>24?(t<1/0&&(ze=setTimeout(Fe,t-He.now()-Xe)),Oe&&(Oe=clearInterval(Oe))):(Oe||(Re=He.now(),Oe=setInterval(Ue,1e3)),Pe=1,Ie(Fe)))}function Ge(t,n,e){var r=new De;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}De.prototype=Ve.prototype={constructor:De,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Le():+e)+(null==n?0:+n),this._next||Ce===this||(Ce?Ce._next=this:Ae=this,Ce=this),this._call=t,this._time=e,Be()},stop:function(){this._call&&(this._call=null,this._time=1/0,Be())}};var We=tt("start","end","cancel","interrupt"),Ze=[];function Je(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var s,c,f,h;if(1!==e.state)return l();for(s in i)if((h=i[s]).name===e.name){if(3===h.state)return Ge(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(Ge((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(o))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),s=0,c=-1;s<f;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(l),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Ve(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:We,tween:Ze,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Ke(t,n){var e=tr(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Qe(t,n){var e=tr(t,n);if(e.state>3)throw new Error("too late; already running");return e}function tr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function nr(t,n){var e,r;return function(){var i=Qe(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function er(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Qe(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},l=0,s=i.length;l<s;++l)if(i[l].name===n){i[l]=u;break}l===s&&i.push(u)}o.tween=i}}function rr(t,n,e){var r=t._id;return t.each((function(){var t=Qe(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return tr(t,r).value[n]}}function ir(t,n){var e;return("number"==typeof n?me:n instanceof Gn?pe:(e=Gn(n))?(n=e,pe):xe)(t,n)}function or(t){return function(){this.removeAttribute(t)}}function ar(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ur(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function lr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function sr(t,n,e){var r,i,o;return function(){var a,u,l=e(this);if(null!=l)return(a=this.getAttribute(t))===(u=l+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,l));this.removeAttribute(t)}}function cr(t,n,e){var r,i,o;return function(){var a,u,l=e(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(u=l+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,l));this.removeAttributeNS(t.space,t.local)}}function fr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function hr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function pr(t,n){return function(){Ke(this,t).delay=+n.apply(this,arguments)}}function dr(t,n){return n=+n,function(){Ke(this,t).delay=n}}function gr(t,n){return function(){Qe(this,t).duration=+n.apply(this,arguments)}}function vr(t,n){return n=+n,function(){Qe(this,t).duration=n}}var mr=vn.prototype.constructor;function yr(t){return function(){this.style.removeProperty(t)}}var _r=0;function wr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function xr(){return++_r}var br=vn.prototype;wr.prototype={constructor:wr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ft(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,l,s=r[a],c=s.length,f=o[a]=new Array(c),h=0;h<c;++h)(u=s[h])&&(l=t.call(u,u.__data__,h,s))&&("__data__"in u&&(l.__data__=u.__data__),f[h]=l,Je(f[h],n,e,h,f,tr(u,e)));return new wr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=pt(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var l,s=r[u],c=s.length,f=0;f<c;++f)if(l=s[f]){for(var h,p=t.call(l,l.__data__,f,s),d=tr(l,e),g=0,v=p.length;g<v;++g)(h=p[g])&&Je(h,n,e,g,p,d);o.push(p),a.push(l)}return new wr(o,a,n,e)},selectChild:br.selectChild,selectChildren:br.selectChildren,filter:function(t){"function"!=typeof t&&(t=gt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,l=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&l.push(o);return new wr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var l,s=n[u],c=e[u],f=s.length,h=a[u]=new Array(f),p=0;p<f;++p)(l=s[p]||c[p])&&(h[p]=l);for(;u<r;++u)a[u]=n[u];return new wr(a,this._parents,this._name,this._id)},selection:function(){return new mr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=xr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],l=u.length,s=0;s<l;++s)if(a=u[s]){var c=tr(a,n);Je(a,t,e,s,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new wr(r,this._parents,t,e)},call:br.call,nodes:br.nodes,node:br.node,size:br.size,empty:br.empty,each:br.each,on:function(t,n){var e=this._id;return arguments.length<2?tr(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Ke:Qe;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=at(t),r="transform"===e?je:ir;return this.attrTween(t,"function"==typeof n?(e.local?cr:sr)(e,r,rr(this,"attr."+t,n)):null==n?(e.local?ar:or)(e):(e.local?lr:ur)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=at(t);return this.tween(e,(r.local?fr:hr)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Te:ir;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=Xt(this,t),a=(this.style.removeProperty(t),Xt(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,yr(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=Xt(this,t),u=e(this),l=u+"";return null==u&&(this.style.removeProperty(t),l=u=Xt(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=n(r=a,u))}}(t,r,rr(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var l=Qe(this,t),s=l.on,c=null==l.value[a]?o||(o=yr(n)):void 0;s===e&&i===c||(r=(e=s).copy()).on(u,i=c),l.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=Xt(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(rr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=tr(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?nr:er)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?pr:dr)(n,t)):tr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?gr:vr)(n,t)):tr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Qe(this,t).ease=n}}(n,t)):tr(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Qe(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},l={value:function(){0==--i&&o()}};e.each((function(){var e=Qe(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(l)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:br[Symbol.iterator]};var Mr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Er(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}vn.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},vn.prototype.transition=function(t){var n,e;t instanceof wr?(n=t._id,t=t._name):(n=xr(),(e=Mr).time=Le(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],l=u.length,s=0;s<l;++s)(a=u[s])&&Je(a,t,n,s,u,e||Er(a,n));return new wr(r,this._parents,t,n)};var Sr={},kr={};function Nr(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function $r(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Ar(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Cr(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+Ar(-n,6):n>9999?"+"+Ar(n,6):Ar(n,4))+"-"+Ar(t.getUTCMonth()+1,2)+"-"+Ar(t.getUTCDate(),2)+(o?"T"+Ar(e,2)+":"+Ar(r,2)+":"+Ar(i,2)+"."+Ar(o,3)+"Z":i?"T"+Ar(e,2)+":"+Ar(r,2)+":"+Ar(i,2)+"Z":r||e?"T"+Ar(e,2)+":"+Ar(r,2)+"Z":"")}var Tr=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,l=o<=0,s=!1;function c(){if(l)return kr;if(s)return s=!1,Sr;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?l=!0:10===(r=t.charCodeAt(a++))?s=!0:13===r&&(s=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))s=!0;else if(13===r)s=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return l=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==kr;){for(var f=[];r!==Sr&&r!==kr;)f.push(r),r=c();n&&null==(f=n(f,u++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Cr(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Nr(t);return function(r,i){return n(e(r),i,t)}}(t,n):Nr(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=$r(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=$r(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),jr=Tr.parse;function Pr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var zr,Or=(zr=jr,function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),function(t,n){return fetch(t,n).then(Pr)}(t,n).then((function(t){return zr(t,e)}))});function Rr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function qr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Xr(t){return(t=qr(Math.abs(t)))?t[1]:NaN}var Hr,Ir=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lr(t){if(!(n=Ir.exec(t)))throw new Error("invalid format: "+t);var n;return new Yr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Yr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Dr(t,n){var e=qr(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Lr.prototype=Yr.prototype,Yr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Vr={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Dr(100*t,n),r:Dr,s:function(t,n){var e=qr(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Hr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qr(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Fr(t){return t}var Ur,Br,Gr,Wr=Array.prototype.map,Zr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jr(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Fr:(n=Wr.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),o.push(t.substring(i-=u,i+u)),!((l+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Fr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Wr.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Lr(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Vr[y]||(void 0===v&&(v=12),m=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var _="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?o:/[%p]/.test(y)?l:"",x=Vr[y],b=/[defgprs%]/.test(y);function M(t){var i,o,l,h=_,M=w;if("c"===y)M=x(t)+M,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),v),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),E&&0==+t&&"+"!==f&&(E=!1),h=(E?"("===f?f:s:"-"===f||"("===f?"":f)+h,M=("s"===y?Zr[8+Hr/3]:"")+M+(E&&"("===f?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){M=(46===l?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var S=h.length+t.length+M.length,k=S<d?new Array(d-S+1).join(n):"";switch(g&&p&&(t=r(k+t,k.length?d-M.length:1/0),k=""),e){case"<":t=h+t+M+k;break;case"=":t=h+k+t+M;break;case"^":t=k.slice(0,S=k.length>>1)+h+t+M+k.slice(S);break;default:t=k+h+t+M}return u(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=Lr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Xr(n)/3))),i=Math.pow(10,-r),o=Zr[8+r/3];return function(t){return e(i*t)+o}}}}Ur=Jr({thousands:",",grouping:[3],currency:["$",""]}),Br=Ur.format,Gr=Ur.formatPrefix;var Kr=1e-6,Qr=Math.PI,ti=Qr/2,ni=Qr/4,ei=2*Qr,ri=180/Qr,ii=Qr/180,oi=Math.abs,ai=Math.atan,ui=Math.atan2,li=Math.cos,si=Math.sin,ci=Math.sign||function(t){return t>0?1:t<0?-1:0},fi=Math.sqrt;function hi(t){return t>1?ti:t<-1?-ti:Math.asin(t)}function pi(){}function di(t,n){t&&vi.hasOwnProperty(t.type)&&vi[t.type](t,n)}var gi={Feature:function(t,n){di(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)di(e[r].geometry,n)}},vi={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){mi(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)mi(e[r],n,0)},Polygon:function(t,n){yi(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)yi(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)di(e[r],n)}};function mi(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function yi(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)mi(t[e],n,1);n.polygonEnd()}function _i(t,n){t&&gi.hasOwnProperty(t.type)?gi[t.type](t,n):di(t,n)}function wi(t){return[ui(t[1],t[0]),hi(t[2])]}function xi(t){var n=t[0],e=t[1],r=li(e);return[r*li(n),r*si(n),si(e)]}function bi(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Mi(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Ei(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Si(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ki(t){var n=fi(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Ni(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function $i(t,n){return oi(t)>Qr&&(t-=Math.round(t/ei)*ei),[t,n]}function Ai(t){return function(n,e){return oi(n+=t)>Qr&&(n-=Math.round(n/ei)*ei),[n,e]}}function Ci(t){var n=Ai(t);return n.invert=Ai(-t),n}function Ti(t,n){var e=li(t),r=si(t),i=li(n),o=si(n);function a(t,n){var a=li(n),u=li(t)*a,l=si(t)*a,s=si(n),c=s*e+u*r;return[ui(l*i-c*o,u*e-s*r),hi(c*i+l*o)]}return a.invert=function(t,n){var a=li(n),u=li(t)*a,l=si(t)*a,s=si(n),c=s*i-l*o;return[ui(l*i+s*o,u*e+c*r),hi(c*e-u*r)]},a}function ji(t,n){(n=xi(n))[0]-=t,ki(n);var e,r=(e=-n[1])>1?0:e<-1?Qr:Math.acos(e);return((-n[2]<0?-r:r)+ei-Kr)%ei}function Pi(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:pi,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function zi(t,n){return oi(t[0]-n[0])<Kr&&oi(t[1]-n[1])<Kr}function Oi(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Ri(t,n,e,r,i){var o,a,u=[],l=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(zi(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(e=new Oi(r,t,null,!0)),l.push(e.o=new Oi(r,null,e,!1)),u.push(e=new Oi(a,t,null,!1)),l.push(e.o=new Oi(a,null,e,!0))}})),u.length){for(l.sort(n),qi(u),qi(l),o=0,a=l.length;o<a;++o)l[o].e=e=!e;for(var s,c,f=u[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=s.length;o<a;++o)i.point((c=s[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((c=s[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function qi(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Xi(t){return oi(t[0])<=Qr?t[0]:ci(t[0])*((oi(t[0])+Qr)%ei-Qr)}function Hi(t,n,e,r){return function(i){var o,a,u,l=n(i),s=Pi(),c=n(s),f=!1,h={point:p,lineStart:g,lineEnd:v,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=_,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=v,a=D(a);var t=function(t,n){var e=Xi(n),r=n[1],i=si(r),o=[si(e),-li(e),0],a=0,u=0,l=new q;1===i?r=ti+Kr:-1===i&&(r=-ti-Kr);for(var s=0,c=t.length;s<c;++s)if(h=(f=t[s]).length)for(var f,h,p=f[h-1],d=Xi(p),g=p[1]/2+ni,v=si(g),m=li(g),y=0;y<h;++y,d=w,v=b,m=M,p=_){var _=f[y],w=Xi(_),x=_[1]/2+ni,b=si(x),M=li(x),E=w-d,S=E>=0?1:-1,k=S*E,N=k>Qr,$=v*b;if(l.add(ui($*S*si(k),m*M+$*li(k))),a+=N?E+S*ei:E,N^d>=e^w>=e){var A=Mi(xi(p),xi(_));ki(A);var C=Mi(o,A);ki(C);var T=(N^E>=0?-1:1)*hi(C[2]);(r>T||r===T&&(A[0]||A[1]))&&(u+=N^E>=0?1:-1)}}return(a<-Kr||a<Kr&&l<-1e-12)^1&u}(o,r);a.length?(f||(i.polygonStart(),f=!0),Ri(a,Li,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(n,e){t(n,e)&&i.point(n,e)}function d(t,n){l.point(t,n)}function g(){h.point=d,l.lineStart()}function v(){h.point=p,l.lineEnd()}function m(t,n){u.push([t,n]),c.point(t,n)}function y(){c.lineStart(),u=[]}function _(){m(u[0][0],u[0][1]),c.lineEnd();var t,n,e,r,l=c.clean(),h=s.result(),p=h.length;if(u.pop(),o.push(u),u=null,p)if(1&l){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Ii))}return h}}function Ii(t){return t.length>1}function Li(t,n){return((t=t.x)[0]<0?t[1]-ti-Kr:ti-t[1])-((n=n.x)[0]<0?n[1]-ti-Kr:ti-n[1])}$i.invert=$i;var Yi=Hi((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?Qr:-Qr,l=oi(o-e);oi(l-Qr)<Kr?(t.point(e,r=(r+a)/2>0?ti:-ti),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&l>=Qr&&(oi(e-i)<Kr&&(e-=i*Kr),oi(o-u)<Kr&&(o-=u*Kr),r=function(t,n,e,r){var i,o,a=si(t-e);return oi(a)>Kr?ai((si(n)*(o=li(r))*si(e)-si(r)*(i=li(n))*si(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*ti,r.point(-Qr,i),r.point(0,i),r.point(Qr,i),r.point(Qr,0),r.point(Qr,-i),r.point(0,-i),r.point(-Qr,-i),r.point(-Qr,0),r.point(-Qr,i);else if(oi(t[0]-n[0])>Kr){var o=t[0]<n[0]?Qr:-Qr;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-Qr,-ti]);function Di(t){var n=li(t),e=2*ii,r=n>0,i=oi(n)>Kr;function o(t,e){return li(t)*li(e)>n}function a(t,e,r){var i=[1,0,0],o=Mi(xi(t),xi(e)),a=bi(o,o),u=o[0],l=a-u*u;if(!l)return!r&&t;var s=n*a/l,c=-n*u/l,f=Mi(i,o),h=Si(i,s);Ei(h,Si(o,c));var p=f,d=bi(h,p),g=bi(p,p),v=d*d-g*(bi(h,h)-1);if(!(v<0)){var m=fi(v),y=Si(p,(-d-m)/g);if(Ei(y,h),y=wi(y),!r)return y;var _,w=t[0],x=e[0],b=t[1],M=e[1];x<w&&(_=w,w=x,x=_);var E=x-w,S=oi(E-Qr)<Kr;if(!S&&M<b&&(_=b,b=M,M=_),S||E<Kr?S?b+M>0^y[1]<(oi(y[0]-w)<Kr?b:M):b<=y[1]&&y[1]<=M:E>Qr^(w<=y[0]&&y[0]<=x)){var k=Si(p,(-d+m)/g);return Ei(k,h),[y,wi(k)]}}}function u(n,e){var i=r?t:Qr-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Hi(o,(function(t){var n,e,l,s,c;return{lineStart:function(){s=l=!1,c=1},point:function(f,h){var p,d=[f,h],g=o(f,h),v=r?g?0:u(f,h):g?u(f+(f<0?Qr:-Qr),h):0;if(!n&&(s=l=g)&&t.lineStart(),g!==l&&(!(p=a(n,d))||zi(n,p)||zi(d,p))&&(d[2]=1),g!==l)c=0,g?(t.lineStart(),p=a(d,n),t.point(p[0],p[1])):(p=a(n,d),t.point(p[0],p[1],2),t.lineEnd()),n=p;else if(i&&n&&r^g){var m;v&e||!(m=a(d,n,!0))||(c=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!g||n&&zi(n,d)||t.point(d[0],d[1]),n=d,l=g,e=v},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(s&&l)<<1}}}),(function(n,r,i,o){!function(t,n,e,r,i,o){if(e){var a=li(n),u=si(n),l=r*e;null==i?(i=n+r*ei,o=n-l/2):(i=ji(a,i),o=ji(a,o),(r>0?i<o:i>o)&&(i+=r*ei));for(var s,c=i;r>0?c>o:c<o;c-=l)s=wi([a,-u*li(c),-u*si(c)]),t.point(s[0],s[1])}}(o,t,e,i,n,r)}),r?[0,-t]:[-Qr,t-Qr])}var Vi=1e9,Fi=-Vi;function Ui(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,s){var c=0,f=0;if(null==i||(c=a(i,u))!==(f=a(o,u))||l(i,o)<0^u>0)do{s.point(0===c||3===c?t:e,c>1?r:n)}while((c=(c+u+4)%4)!==f);else s.point(o[0],o[1])}function a(r,i){return oi(r[0]-t)<Kr?i>0?0:3:oi(r[0]-e)<Kr?i>0?2:1:oi(r[1]-n)<Kr?i>0?1:0:i>0?3:2}function u(t,n){return l(t.x,n.x)}function l(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var l,s,c,f,h,p,d,g,v,m,y,_=a,w=Pi(),x={point:b,lineStart:function(){x.point=M,s&&s.push(c=[]);m=!0,v=!1,d=g=NaN},lineEnd:function(){l&&(M(f,h),p&&v&&w.rejoin(),l.push(w.result()));x.point=b,v&&_.lineEnd()},polygonStart:function(){_=w,l=[],s=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=s.length;e<i;++e)for(var o,a,u=s[e],l=1,c=u.length,f=u[0],h=f[0],p=f[1];l<c;++l)o=h,a=p,h=(f=u[l])[0],p=f[1],a<=r?p>r&&(h-o)*(r-a)>(p-a)*(t-o)&&++n:p<=r&&(h-o)*(r-a)<(p-a)*(t-o)&&--n;return n}(),e=y&&n,i=(l=D(l)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Ri(l,u,n,o,a),a.polygonEnd());_=a,l=s=c=null}};function b(t,n){i(t,n)&&_.point(t,n)}function M(o,a){var u=i(o,a);if(s&&c.push([o,a]),m)f=o,h=a,p=u,m=!1,u&&(_.lineStart(),_.point(o,a));else if(u&&v)_.point(o,a);else{var l=[d=Math.max(Fi,Math.min(Vi,d)),g=Math.max(Fi,Math.min(Vi,g))],w=[o=Math.max(Fi,Math.min(Vi,o)),a=Math.max(Fi,Math.min(Vi,a))];!function(t,n,e,r,i,o){var a,u=t[0],l=t[1],s=0,c=1,f=n[0]-u,h=n[1]-l;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<s)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>s&&(s=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>s&&(s=a)}else if(f>0){if(a<s)return;a<c&&(c=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<s)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>s&&(s=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>s&&(s=a)}else if(h>0){if(a<s)return;a<c&&(c=a)}return s>0&&(t[0]=u+s*f,t[1]=l+s*h),c<1&&(n[0]=u+c*f,n[1]=l+c*h),!0}}}}}(l,w,t,n,e,r)?u&&(_.lineStart(),_.point(o,a),y=!1):(v||(_.lineStart(),_.point(l[0],l[1])),_.point(w[0],w[1]),u||_.lineEnd(),y=!1)}d=o,g=a,v=u}return x}}var Bi,Gi,Wi,Zi,Ji=t=>t,Ki=new q,Qi=new q,to={point:pi,lineStart:pi,lineEnd:pi,polygonStart:function(){to.lineStart=no,to.lineEnd=io},polygonEnd:function(){to.lineStart=to.lineEnd=to.point=pi,Ki.add(oi(Qi)),Qi=new q},result:function(){var t=Ki/2;return Ki=new q,t}};function no(){to.point=eo}function eo(t,n){to.point=ro,Bi=Wi=t,Gi=Zi=n}function ro(t,n){Qi.add(Zi*t-Wi*n),Wi=t,Zi=n}function io(){ro(Bi,Gi)}var oo=to,ao=1/0,uo=ao,lo=-ao,so=lo;var co,fo,ho,po,go={point:function(t,n){t<ao&&(ao=t);t>lo&&(lo=t);n<uo&&(uo=n);n>so&&(so=n)},lineStart:pi,lineEnd:pi,polygonStart:pi,polygonEnd:pi,result:function(){var t=[[ao,uo],[lo,so]];return lo=so=-(uo=ao=1/0),t}},vo=0,mo=0,yo=0,_o=0,wo=0,xo=0,bo=0,Mo=0,Eo=0,So={point:ko,lineStart:No,lineEnd:Co,polygonStart:function(){So.lineStart=To,So.lineEnd=jo},polygonEnd:function(){So.point=ko,So.lineStart=No,So.lineEnd=Co},result:function(){var t=Eo?[bo/Eo,Mo/Eo]:xo?[_o/xo,wo/xo]:yo?[vo/yo,mo/yo]:[NaN,NaN];return vo=mo=yo=_o=wo=xo=bo=Mo=Eo=0,t}};function ko(t,n){vo+=t,mo+=n,++yo}function No(){So.point=$o}function $o(t,n){So.point=Ao,ko(ho=t,po=n)}function Ao(t,n){var e=t-ho,r=n-po,i=fi(e*e+r*r);_o+=i*(ho+t)/2,wo+=i*(po+n)/2,xo+=i,ko(ho=t,po=n)}function Co(){So.point=ko}function To(){So.point=Po}function jo(){zo(co,fo)}function Po(t,n){So.point=zo,ko(co=ho=t,fo=po=n)}function zo(t,n){var e=t-ho,r=n-po,i=fi(e*e+r*r);_o+=i*(ho+t)/2,wo+=i*(po+n)/2,xo+=i,bo+=(i=po*t-ho*n)*(ho+t),Mo+=i*(po+n),Eo+=3*i,ko(ho=t,po=n)}var Oo=So;function Ro(t){this._context=t}Ro.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,ei)}},result:pi};var qo,Xo,Ho,Io,Lo,Yo=new q,Do={point:pi,lineStart:function(){Do.point=Vo},lineEnd:function(){qo&&Fo(Xo,Ho),Do.point=pi},polygonStart:function(){qo=!0},polygonEnd:function(){qo=null},result:function(){var t=+Yo;return Yo=new q,t}};function Vo(t,n){Do.point=Fo,Xo=Io=t,Ho=Lo=n}function Fo(t,n){Io-=t,Lo-=n,Yo.add(fi(Io*Io+Lo*Lo)),Io=t,Lo=n}var Uo=Do;let Bo,Go,Wo,Zo;class Jo{constructor(t){this._append=null==t?Ko:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Ko;if(n!==Bo){const t=10**n;Bo=n,Go=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Go}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==Wo||this._append!==Go){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Wo=t,Go=this._append,Zo=this._,this._=n}this._+=Zo}}result(){const t=this._;return this._="",t.length?t:null}}function Ko(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Qo(t){return function(n){var e=new ta;for(var r in t)e[r]=t[r];return e.stream=n,e}}function ta(){}function na(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),_i(e,t.stream(go)),n(go.result()),null!=r&&t.clipExtent(r),t}function ea(t,n,e){return na(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}function ra(t,n,e){return ea(t,[[0,0],n],e)}function ia(t,n,e){return na(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}function oa(t,n,e){return na(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}ta.prototype={constructor:ta,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var aa=li(30*ii);function ua(t,n){return+n?function(t,n){function e(r,i,o,a,u,l,s,c,f,h,p,d,g,v){var m=s-r,y=c-i,_=m*m+y*y;if(_>4*n&&g--){var w=a+h,x=u+p,b=l+d,M=fi(w*w+x*x+b*b),E=hi(b/=M),S=oi(oi(b)-1)<Kr||oi(o-f)<Kr?(o+f)/2:ui(x,w),k=t(S,E),N=k[0],$=k[1],A=N-r,C=$-i,T=y*A-m*C;(T*T/_>n||oi((m*A+y*C)/_-.5)>.3||a*h+u*p+l*d<aa)&&(e(r,i,o,a,u,l,N,$,S,w/=M,x/=M,b,g,v),v.point(N,$),e(N,$,S,w,x,b,s,c,f,h,p,d,g,v))}}return function(n){var r,i,o,a,u,l,s,c,f,h,p,d,g={point:v,lineStart:m,lineEnd:_,polygonStart:function(){n.polygonStart(),g.lineStart=w},polygonEnd:function(){n.polygonEnd(),g.lineStart=m}};function v(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){c=NaN,g.point=y,n.lineStart()}function y(r,i){var o=xi([r,i]),a=t(r,i);e(c,f,s,h,p,d,c=a[0],f=a[1],s=r,h=o[0],p=o[1],d=o[2],16,n),n.point(c,f)}function _(){g.point=v,n.lineEnd()}function w(){m(),g.point=x,g.lineEnd=b}function x(t,n){y(r=t,n),i=c,o=f,a=h,u=p,l=d,g.point=y}function b(){e(c,f,s,h,p,d,i,o,r,a,u,l,16,n),g.lineEnd=_,_()}return g}}(t,n):function(t){return Qo({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var la=Qo({point:function(t,n){this.stream.point(t*ii,n*ii)}});function sa(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=li(o),u=si(o),l=a*t,s=u*t,c=a/t,f=u/t,h=(u*e-a*n)/t,p=(u*n+a*e)/t;function d(t,o){return[l*(t*=r)-s*(o*=i)+n,e-s*t-l*o]}return d.invert=function(t,n){return[r*(c*t-f*n+h),i*(p-f*t-c*n)]},d}function ca(t){var n,e,r,i,o,a,u,l,s,c,f=150,h=480,p=250,d=0,g=0,v=0,m=0,y=0,_=0,w=1,x=1,b=null,M=Yi,E=null,S=Ji,k=.5;function N(t){return l(t[0]*ii,t[1]*ii)}function $(t){return(t=l.invert(t[0],t[1]))&&[t[0]*ri,t[1]*ri]}function A(){var t=sa(f,0,0,w,x,_).apply(null,n(d,g)),r=sa(f,h-t[0],p-t[1],w,x,_);return e=function(t,n,e){return(t%=ei)?n||e?Ni(Ci(t),Ti(n,e)):Ci(t):n||e?Ti(n,e):$i}(v,m,y),u=Ni(n,r),l=Ni(e,u),a=ua(u,k),C()}function C(){return s=c=null,N}return N.stream=function(t){return s&&c===t?s:s=la(function(t){return Qo({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(a(S(c=t)))))},N.preclip=function(t){return arguments.length?(M=t,b=void 0,C()):M},N.postclip=function(t){return arguments.length?(S=t,E=r=i=o=null,C()):S},N.clipAngle=function(t){return arguments.length?(M=+t?Di(b=t*ii):(b=null,Yi),C()):b*ri},N.clipExtent=function(t){return arguments.length?(S=null==t?(E=r=i=o=null,Ji):Ui(E=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==E?null:[[E,r],[i,o]]},N.scale=function(t){return arguments.length?(f=+t,A()):f},N.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],A()):[h,p]},N.center=function(t){return arguments.length?(d=t[0]%360*ii,g=t[1]%360*ii,A()):[d*ri,g*ri]},N.rotate=function(t){return arguments.length?(v=t[0]%360*ii,m=t[1]%360*ii,y=t.length>2?t[2]%360*ii:0,A()):[v*ri,m*ri,y*ri]},N.angle=function(t){return arguments.length?(_=t%360*ii,A()):_*ri},N.reflectX=function(t){return arguments.length?(w=t?-1:1,A()):w<0},N.reflectY=function(t){return arguments.length?(x=t?-1:1,A()):x<0},N.precision=function(t){return arguments.length?(a=ua(u,k=t*t),C()):fi(k)},N.fitExtent=function(t,n){return ea(N,t,n)},N.fitSize=function(t,n){return ra(N,t,n)},N.fitWidth=function(t,n){return ia(N,t,n)},N.fitHeight=function(t,n){return oa(N,t,n)},function(){return n=t.apply(this,arguments),N.invert=n.invert&&$,A()}}function fa(t,n){var e=si(t),r=(e+si(n))/2;if(oi(r)<Kr)return function(t){var n=li(t);function e(t,e){return[t*n,si(e)/n]}return e.invert=function(t,e){return[t/n,hi(e*n)]},e}(t);var i=1+e*(2*r-e),o=fi(i)/r;function a(t,n){var e=fi(i-2*r*si(n))/r;return[e*si(t*=r),o-e*li(t)]}return a.invert=function(t,n){var e=o-n,a=ui(t,oi(e))*ci(e);return e*r<0&&(a-=Qr*ci(t)*ci(e)),[a/r,hi((i-(t*t+e*e)*r*r)/(2*r))]},a}function ha(){return(t=fa,n=0,e=Qr/3,r=ca(t),i=r(n,e),i.parallels=function(t){return arguments.length?r(n=t[0]*ii,e=t[1]*ii):[n*ri,e*ri]},i).scale(155.424).center([0,33.6442]);var t,n,e,r,i}function pa(){var t,n,e,r,i,o,a=ha().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7]),u=ha().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=ha().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,n){o=[t,n]}};function c(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function f(){return t=n=null,c}return c.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(t)},c.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),u.stream(e),l.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},c.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),l.precision(t),f()):a.precision()},c.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),l.scale(t),c.translate(a.translate())):a.scale()},c.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],c=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,c-.238*n],[o+.455*n,c+.238*n]]).stream(s),r=u.translate([o-.307*n,c+.201*n]).clipExtent([[o-.425*n+Kr,c+.12*n+Kr],[o-.214*n-Kr,c+.234*n-Kr]]).stream(s),i=l.translate([o-.205*n,c+.212*n]).clipExtent([[o-.214*n+Kr,c+.166*n+Kr],[o-.115*n-Kr,c+.234*n-Kr]]).stream(s),f()},c.fitExtent=function(t,n){return ea(c,t,n)},c.fitSize=function(t,n){return ra(c,t,n)},c.fitWidth=function(t,n){return ia(c,t,n)},c.fitHeight=function(t,n){return oa(c,t,n)},c.scale(1070)}function da(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function ga(t){return+t}var va=[0,1];function ma(t){return t}function ya(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function _a(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=ya(i,r),o=e(a,o)):(r=ya(r,i),o=e(o,a)),function(t){return o(r(t))}}function wa(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=ya(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=R(t,n,1,r)-1;return o[e](i[e](n))}}function xa(){var t,n,e,r,i,o,a=va,u=va,l=be,s=ma;function c(){var t,n,e,l=Math.min(a.length,u.length);return s!==ma&&(t=a[0],n=a[l-1],t>n&&(e=t,t=n,n=e),s=function(e){return Math.max(t,Math.min(n,e))}),r=l>2?wa:_a,i=o=null,f}function f(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),u,l)))(t(s(n)))}return f.invert=function(e){return s(n((o||(o=r(u,a.map(t),me)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,ga),c()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),l=Me,c()},f.clamp=function(t){return arguments.length?(s=!!t||ma,c()):s!==ma},f.interpolate=function(t){return arguments.length?(l=t,c()):l},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,c()}}function ba(t,n,e,r){var i,o=function(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?Y(n,t,e):Y(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}(t,n,e);switch((r=Lr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xr(n)/3)))-Xr(Math.abs(t)))}(o,a))||(r.precision=i),Gr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Xr(n)-Xr(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Xr(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Br(r)}function Ma(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){if(!((e=+e)>0))return[];if((t=+t)==(n=+n))return[t];const r=n<t,[i,o,a]=r?L(n,t,e):L(t,n,e);if(!(o>=i))return[];const u=o-i+1,l=new Array(u);if(r)if(a<0)for(let t=0;t<u;++t)l[t]=(o-t)/-a;else for(let t=0;t<u;++t)l[t]=(o-t)*a;else if(a<0)for(let t=0;t<u;++t)l[t]=(i+t)/-a;else for(let t=0;t<u;++t)l[t]=(i+t)*a;return l}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return ba(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,l=o[a],s=o[u],c=10;for(s<l&&(i=l,l=s,s=i,i=a,a=u,u=i);c-- >0;){if((i=Y(l,s,e))===r)return o[a]=l,o[u]=s,n(o);if(i>0)l=Math.floor(l/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,s=Math.floor(s*i)/i}r=i}return t},t}function Ea(){var t=xa()(ma,ma);return t.copy=function(){return n=t,Ea().domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown());var n},da.apply(t,arguments),Ma(t)}function Sa(){var t,n=[.5],e=[0,1],r=1;function i(i){return null!=i&&i<=i?e[R(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return Sa().domain(n).range(e).unknown(t)},da.apply(i,arguments)}function ka(t,n,e){this.k=t,this.x=n,this.y=e}function Na(n){let e,r,i,o,h,p,d,g,v,m,y;return{c(){var t;e=l("div"),e.innerHTML='<h1 style="font-size: 28px; font-weight: bold;">U.S Housing Market Insights: Median Prices by State from January 2000 to October 2024</h1>',r=s(),i=l("div"),o=s(),t="svg",h=document.createElementNS("http://www.w3.org/2000/svg",t),p=s(),d=l("div"),g=s(),v=l("div"),v.innerHTML="<p><strong>Insightful Visualization:</strong> Explore the evolution of U.S. housing market trends with this interactive visualization. Seamlessly hover over each state to reveal its median home price for the selected year. Navigate through two decades of data using the timeline slider and uncover regional trends. The dynamic color gradient highlights price variations, with deeper hues signifying higher housing values, offering a clear, data-driven perspective on the market.</p>",m=s(),y=l("div"),y.innerHTML='<h2 style="text-align: center;">Project Insights</h2> \n\n  <div style="border: 1px solid #ddd; border-radius: 5px; padding: 15px; margin-bottom: 15px;"><h3 style="margin: 0; font-size: 18px;">What have you done so far?</h3> \n    <p style="margin-top: 10px;">I have set up the web page structure, ensuring a responsive and user-friendly layout, and added interactive features with Svelte and D3.js. The dataset is cleaned and prepared for visualization, and a deployment strategy using GitHub Pages is finalized. Ive also tested components for smooth interactivity and created documentation to maintain clarity as the project progresses.</p></div> \n\n  <div style="border: 1px solid #ddd; border-radius: 5px; padding: 15px; margin-bottom: 15px;"><h3 style="margin: 0; font-size: 18px;">What will be the most challenging of your project to design and why?</h3> \n    <p style="margin-top: 10px;">The most challenging aspects will be implementing advanced interactions like panning and zooming, ensuring intuitive functionality while maintaining performance with large datasets. Balancing interactivity with usability and adhering to accessibility standards adds complexity. Debugging across browsers and devices will also require significant effort to ensure consistency and reliability.</p></div>',f(e,"text-align","center"),f(e,"margin-bottom","20px"),c(i,"id","slider"),f(i,"margin","30px"),c(h,"id","map"),c(h,"class","svelte-19d0aq0"),c(d,"id","tooltip"),c(d,"class","svelte-19d0aq0"),f(v,"margin-top","20px"),f(v,"padding","10px"),f(v,"line-height","1.5"),f(v,"max-width","800px"),f(v,"margin-left","auto"),f(v,"margin-right","auto"),f(v,"text-align","justify"),f(v,"font-size","20px"),f(v,"color","#333"),f(v,"text-indent","40px"),f(y,"margin","20px auto"),f(y,"max-width","800px"),f(y,"font-family","Arial, sans-serif"),f(y,"line-height","1.6")},m(t,n){a(t,e,n),a(t,r,n),a(t,i,n),a(t,o,n),a(t,h,n),a(t,p,n),a(t,d,n),a(t,g,n),a(t,v,n),a(t,m,n),a(t,y,n)},p:t,i:t,o:t,d(t){t&&u(e),t&&u(r),t&&u(i),t&&u(o),t&&u(h),t&&u(p),t&&u(d),t&&u(g),t&&u(v),t&&u(m),t&&u(y)}}}ka.prototype={constructor:ka,scale:function(t){return 1===t?this:new ka(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new ka(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},ka.prototype;let $a=1700;function Aa(t){let n,e,r,i=[];const o=Sa().domain([0,1e5,3e5,5e5,75e4,1e6]).range(["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#084594"]);function a(){const t=mn("#map").attr("width",$a).attr("height",1e3),i=pa().scale(1800).translate([850,500]),a=function(t,n){let e,r,i=3,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),_i(t,e(r))),r.result()}return a.area=function(t){return _i(t,e(oo)),oo.result()},a.measure=function(t){return _i(t,e(Uo)),Uo.result()},a.bounds=function(t){return _i(t,e(go)),go.result()},a.centroid=function(t){return _i(t,e(Oo)),Oo.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,Ji):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new Jo(i)):new Ro(n=t),"function"!=typeof o&&r.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new Jo(i)),a},a.projection(t).digits(i).context(n)}().projection(i);e.features.forEach((t=>{const e=n.find((n=>n.RegionName===t.properties.NAME));t.properties.median_price=e?Math.round(+e[r]):null})),t.selectAll("path").data(e.features).join("path").attr("d",a).attr("fill",(t=>null!==t.properties.median_price?o(t.properties.median_price):"#ccc")).attr("stroke","#333").attr("stroke-width",.5).on("mouseover",(function(t,n){if(null!==n.properties.median_price){const e=n.properties.median_price.toLocaleString();mn(this).transition().duration(200).attr("fill",Gn(o(n.properties.median_price)).brighter(.5)).attr("stroke-width",2),mn("#tooltip").style("opacity",1).html(`${n.properties.NAME}: $${e}`).style("left",`${t.pageX+10}px`).style("top",`${t.pageY+10}px`)}})).on("mouseout",(function(t,n){mn(this).transition().duration(200).attr("fill",(t=>null!==t.properties.median_price?o(t.properties.median_price):"#ccc")).attr("stroke-width",.5),mn("#tooltip").style("opacity",0)})),function(t){const n=800,e=20,r=t.append("g").attr("id","legend").attr("transform",`translate(${($a-n)/2}, 50)`),i=K(Ea().domain([0,1e6]).range([0,n])).tickValues([0,1e5,3e5,5e5,75e4,1e6]).tickFormat((t=>`$${t.toLocaleString()}`)),o=t.append("defs").append("linearGradient").attr("id","gradient");o.selectAll("stop").data([{offset:"0%",color:"#f7fbff"},{offset:"12%",color:"#deebf7"},{offset:"30%",color:"#c6dbef"},{offset:"45%",color:"#9ecae1"},{offset:"66.6%",color:"#6baed6"},{offset:"100%",color:"#084594"}]).enter().append("stop").attr("offset",(t=>t.offset)).attr("stop-color",(t=>t.color)),r.append("rect").attr("width",n).attr("height",e).style("fill","url(#gradient)"),r.append("g").attr("transform",`translate(0, ${e})`).call(i).selectAll("text").style("font-size","18px").style("font-weight","bold")}(t)}return d((async()=>{n=await Or("/median_prices.csv"),e=await function(t,n){return fetch(t,n).then(Rr)}("/us-states.json"),i=n.columns.slice(8),r=i[0],a(),function(){const t=mn("#slider");t.append("h3").text("Select Timeline (Year)").style("font-size","20px").style("margin-bottom","10px");const n=i.map((t=>t.split("/")[2])),e=Ea().domain([0,n.length-1]).range([0,800]),o=K(e).ticks(10).tickFormat((t=>n[t])),u=t.append("svg").attr("width",850).attr("height",80);u.append("g").attr("transform","translate(25,50)").call(o).selectAll("text").style("font-size","18px").style("font-weight","bold").style("fill","#333");const l=u.append("circle").attr("cx",25).attr("cy",50).attr("r",10).attr("fill","orange").call(An().on("drag",(t=>{let n=Math.min(800,Math.max(0,t.x-25));l.attr("cx",n+25);const o=Math.round(e.invert(n));r=i[o],a()})))}()})),[]}return new class extends C{constructor(t){super(),A(this,t,Aa,Na,o,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
